import{g as N,j as s,c as j}from"./Login.stories-tUSJK2um.js";import{r as O}from"./index-B52nOzfP.js";import"./iframe-Cz7B_Kzi.js";import"../sb-preview/runtime.js";function S(b){var t;const{kcContext:c,i18n:l,doUseDefaultCss:d,Template:h,classes:m}=b,{kcClsx:e}=N({doUseDefaultCss:d,classes:m}),{social:n,realm:i,url:u,usernameHidden:g,login:x,registrationDisabled:p,messagesPerField:o}=c,{msg:a,msgStr:k}=l,[C,v]=O.useState(!1);return s.jsx(h,Object.assign({kcContext:c,i18n:l,doUseDefaultCss:d,classes:m,displayMessage:!o.existsError("username"),displayInfo:i.password&&i.registrationAllowed&&!p,infoNode:s.jsx("div",Object.assign({id:"kc-registration"},{children:s.jsxs("span",{children:[a("noAccount"),s.jsx("a",Object.assign({tabIndex:6,href:u.registrationUrl},{children:a("doRegister")}))]})})),headerNode:a("doLogIn"),socialProvidersNode:s.jsx(s.Fragment,{children:i.password&&(n==null?void 0:n.providers)!==void 0&&n.providers.length!==0&&s.jsxs("div",Object.assign({id:"kc-social-providers",className:e("kcFormSocialAccountSectionClass")},{children:[s.jsx("hr",{}),s.jsx("h2",{children:a("identity-provider-login-label")}),s.jsx("ul",Object.assign({className:e("kcFormSocialAccountListClass",n.providers.length>3&&"kcFormSocialAccountListGridClass")},{children:n.providers.map((...[r,,f])=>s.jsx("li",{children:s.jsxs("a",Object.assign({id:`social-${r.alias}`,className:e("kcFormSocialAccountListButtonClass",f.length>3&&"kcFormSocialAccountGridItem"),type:"button",href:r.loginUrl},{children:[r.iconClasses&&s.jsx("i",{className:j(e("kcCommonLogoIdP"),r.iconClasses),"aria-hidden":"true"}),s.jsx("span",Object.assign({className:j(e("kcFormSocialAccountNameClass"),r.iconClasses&&"kc-social-icon-text")},{children:r.displayName}))]}))},r.alias))}))]}))})},{children:s.jsx("div",Object.assign({id:"kc-form"},{children:s.jsx("div",Object.assign({id:"kc-form-wrapper"},{children:i.password&&s.jsxs("form",Object.assign({id:"kc-form-login",onSubmit:()=>(v(!0),!0),action:u.loginAction,method:"post"},{children:[!g&&s.jsxs("div",Object.assign({className:e("kcFormGroupClass")},{children:[s.jsx("label",Object.assign({htmlFor:"username",className:e("kcLabelClass")},{children:i.loginWithEmailAllowed?i.registrationEmailAsUsername?a("email"):a("usernameOrEmail"):a("username")})),s.jsx("input",{tabIndex:2,id:"username",className:e("kcInputClass"),name:"username",defaultValue:(t=x.username)!==null&&t!==void 0?t:"",type:"text",autoFocus:!0,autoComplete:"username","aria-invalid":o.existsError("username")}),o.existsError("username")&&s.jsx("span",Object.assign({id:"input-error",className:e("kcInputErrorMessageClass"),"aria-live":"polite"},{children:o.getFirstError("username")}))]})),s.jsx("div",Object.assign({className:e("kcFormGroupClass","kcFormSettingClass")},{children:s.jsx("div",Object.assign({id:"kc-form-options"},{children:i.rememberMe&&!g&&s.jsx("div",Object.assign({className:"checkbox"},{children:s.jsxs("label",{children:[s.jsx("input",{tabIndex:3,id:"rememberMe",name:"rememberMe",type:"checkbox",defaultChecked:!!x.rememberMe})," ",a("rememberMe")]})}))}))})),s.jsx("div",Object.assign({id:"kc-form-buttons",className:e("kcFormGroupClass")},{children:s.jsx("input",{tabIndex:4,disabled:C,className:e("kcButtonClass","kcButtonPrimaryClass","kcButtonBlockClass","kcButtonLargeClass"),name:"login",id:"kc-login",type:"submit",value:k("doLogIn")})}))]}))}))}))}))}export{S as default};
